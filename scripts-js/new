#! /usr/bin/env node
// Generated by CoffeeScript 1.10.0
(function() {
  var OPTIMIZED_PROGRAMS_PATH, PROGRAMS, assert, e, fullName, indexString, lastIndex, pad, ref;

  assert = require('assert');

  e = require('child_process').execSync;

  ref = require('./common'), PROGRAMS = ref.PROGRAMS, OPTIMIZED_PROGRAMS_PATH = ref.OPTIMIZED_PROGRAMS_PATH;

  process.argv = process.argv.slice(2);

  lastIndex = Number(PROGRAMS[PROGRAMS.length - 1].name.split('-')[0]);

  pad = function(s, l, c) {
    var i;
    if (c == null) {
      c = '';
    }
    return ((function() {
      var j, ref1, results;
      results = [];
      for (i = j = 0, ref1 = l - s.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {
        results.push(c);
      }
      return results;
    })()).join("") + s;
  };

  indexString = pad((lastIndex + 1).toString(), 3, '0');

  assert(typeof process.argv[0] === "string");

  fullName = indexString + "-" + process.argv[0];

  e("cp -R " + PROGRAMS[PROGRAMS.length - 1].path + " " + OPTIMIZED_PROGRAMS_PATH + "/" + fullName);

  console.log("created " + fullName);

}).call(this);
